import{d as c,r,f as m,c as d,a as o,w as _,v,F as w,b as g,h as p,o as i,t as f}from"./index-yb3XM97V.js";import{g as h,b}from"./http-api-5D-ZoRN6.js";const I={class:"container"},L=o("h2",null,"Choose an Image to download ",-1),k=o("hr",null,null,-1),B=o("label",null,"Image to download",-1),U=["value"],y=o("br",null,null,-1),D={id:"download"},E=c({__name:"Download",setup(R){const l=r(-1),s=r([]);h().then(t=>s.value=t);var a;m(()=>{a=document.getElementById("download")});async function u(){if(a==null)return;const t=s.value[l.value],n=await b.getImage(t.id);console.log(t.name),a.setAttribute("download",t.name);const e=window.URL.createObjectURL(n);a.href=e,window.URL.revokeObjectURL(e)}return(t,n)=>(i(),d("div",I,[o("div",null,[L,k,B,_(o("select",{"onUpdate:modelValue":n[0]||(n[0]=e=>l.value=e)},[(i(!0),d(w,null,g(s.value,e=>(i(),d("option",{value:e.id,key:e.id},f(e.name),9,U))),128))],512),[[v,l.value]]),p(),y,o("a",D,[o("button",{onClick:n[1]||(n[1]=e=>u())},"Download")])])]))}});export{E as default};
